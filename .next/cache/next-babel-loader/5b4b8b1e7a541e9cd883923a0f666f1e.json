{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useContext, useState, useEffect } from 'react';\nimport { AppContext } from \"../../context/AppContext\";\nimport CartItem from \"./CartItem\";\nimport { getUpdatedItems } from '../../../functions';\n\nvar CartItemsContainer = function CartItemsContainer() {\n  _s();\n\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  console.warn(cart);\n\n  var handleRemoveProductClick = function handleRemoveProductClick(event, cartKey, products) {\n    event.stopPropagation();\n\n    if (products.length) {\n      // By passing the newQty to 0 in updateCart Mutation, it will remove the item.\n      var newQty = 0;\n      var updatedItems = getUpdatedItems(products, newQty, cartKey);\n      updateCart({\n        variables: {\n          input: {\n            clientMutationId: v4(),\n            items: updatedItems\n          }\n        }\n      });\n    }\n  };\n\n  return __jsx(\"div\", null, cart ? __jsx(\"div\", {\n    className: \"woo-next-cart-wrapper\"\n  }, __jsx(\"h1\", {\n    className: \"woo-next-cart-heading\"\n  }), __jsx(\"table\", {\n    calssName: \"table table-hover\"\n  }, __jsx(\"thead\", null, __jsx(\"tr\", {\n    className: \"woo-next-cart-head-container\"\n  }, __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }), __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }), __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }, \"Produit\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }, \"Prix\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }, \"Quantit\\xE9\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading\",\n    scope: \"col\"\n  }, \"Total\"))), __jsx(\"tbody\", null, cart.products.length && cart.products.map(function (item) {\n    return __jsx(CartItem, {\n      key: item.productId,\n      item: item,\n      handleRemoveProductClick: handleRemoveProductClick,\n      setCart: setCart\n    });\n  })))) : '');\n};\n\n_s(CartItemsContainer, \"yW3F9rTSSpXoz1qpM/EYKrSPIEE=\");\n\n_c = CartItemsContainer;\nexport default CartItemsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItemsContainer\");","map":{"version":3,"sources":["/Users/didierflury/Documents/Realiser/pweb/woo-next/components/cart/cart-page/CartItemsContainer.js"],"names":["Link","useContext","useState","useEffect","AppContext","CartItem","getUpdatedItems","CartItemsContainer","cart","setCart","console","warn","handleRemoveProductClick","event","cartKey","products","stopPropagation","length","newQty","updatedItems","updateCart","variables","input","clientMutationId","v4","items","map","item","productId"],"mappings":";;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,eAAT,QAA+B,oBAA/B;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAAA;;AAAA,oBACLN,UAAU,CAACG,UAAD,CADL;AAAA,MACtBI,IADsB;AAAA,MAChBC,OADgB;;AAG7BC,EAAAA,OAAO,CAACC,IAAR,CAAaH,IAAb;;AAEH,MAAMI,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAEC,KAAF,EAASC,OAAT,EAAkBC,QAAlB,EAAgC;AAEhEF,IAAAA,KAAK,CAACG,eAAN;;AACA,QAAKD,QAAQ,CAACE,MAAd,EAAuB;AAEtB;AACA,UAAMC,MAAM,GAAG,CAAf;AACA,UAAMC,YAAY,GAAGb,eAAe,CAAES,QAAF,EAAYG,MAAZ,EAAoBJ,OAApB,CAApC;AAEAM,MAAAA,UAAU,CAAE;AACXC,QAAAA,SAAS,EAAE;AACVC,UAAAA,KAAK,EAAE;AACNC,YAAAA,gBAAgB,EAAEC,EAAE,EADd;AAENC,YAAAA,KAAK,EAAEN;AAFD;AADG;AADA,OAAF,CAAV;AAQA;AACD,GAlBD;;AAqBG,SACI,mBAEMX,IAAI,GACF;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAI,IAAA,SAAS,EAAC;AAAd,IADJ,EAEI;AAAO,IAAA,SAAS,EAAC;AAAjB,KACI,qBACI;AAAI,IAAA,SAAS,EAAC;AAAd,KACI;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,IADJ,EAEI;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,IAFJ,EAGI;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,eAHJ,EAII;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,YAJJ,EAKI;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,mBALJ,EAMI;AAAI,IAAA,SAAS,EAAC,uBAAd;AAAsC,IAAA,KAAK,EAAC;AAA5C,aANJ,CADJ,CADJ,EAWI,qBACMA,IAAI,CAACO,QAAL,CAAcE,MAAd,IACnBT,IAAI,CAACO,QAAL,CAAcW,GAAd,CAAmB,UAAAC,IAAI;AAAA,WAC1B,MAAC,QAAD;AACC,MAAA,GAAG,EAAGA,IAAI,CAACC,SADZ;AAEC,MAAA,IAAI,EAAGD,IAFR;AAG4B,MAAA,wBAAwB,EAAEf,wBAHtD;AAI4B,MAAA,OAAO,EAAIH;AAJvC,MAD0B;AAAA,GAAvB,CAFa,CAXJ,CAFJ,CADE,GA6BF,EA/BR,CADJ;AAmCH,CA7DD;;GAAMF,kB;;KAAAA,kB;AA+DN,eAAeA,kBAAf","sourcesContent":["import Link from 'next/link';\nimport { useContext, useState, useEffect } from 'react';\nimport { AppContext } from \"../../context/AppContext\";\nimport CartItem from \"./CartItem\";\nimport { getUpdatedItems} from '../../../functions';\n\nconst CartItemsContainer = () => {\n    const [cart, setCart] = useContext(AppContext);\n    \n    console.warn(cart);\n\n\tconst handleRemoveProductClick = ( event, cartKey, products ) => {\n\n\t\tevent.stopPropagation();\n\t\tif ( products.length ) {\n\n\t\t\t// By passing the newQty to 0 in updateCart Mutation, it will remove the item.\n\t\t\tconst newQty = 0;\n\t\t\tconst updatedItems = getUpdatedItems( products, newQty, cartKey );\n\n\t\t\tupdateCart( {\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tclientMutationId: v4(),\n\t\t\t\t\t\titems: updatedItems\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t};\n\n\n    return (\n        <div>\n            {/* Check if the cart is not empty otherwise empty string*/}\n            { cart ? (\n                <div className=\"woo-next-cart-wrapper\">\n                    <h1 className=\"woo-next-cart-heading\"></h1>\n                    <table calssName=\"table table-hover\">\n                        <thead>\n                            <tr className=\"woo-next-cart-head-container\">\n                                <th className=\"woo-next-cart-heading\" scope=\"col\" />\n                                <th className=\"woo-next-cart-heading\" scope=\"col\" />\n                                <th className=\"woo-next-cart-heading\" scope=\"col\">Produit</th>\n                                <th className=\"woo-next-cart-heading\" scope=\"col\">Prix</th>\n                                <th className=\"woo-next-cart-heading\" scope=\"col\">Quantit√©</th>\n                                <th className=\"woo-next-cart-heading\" scope=\"col\">Total</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            { cart.products.length && (\n\t\t\t\t\t\t\t    cart.products.map( item => (\n\t\t\t\t\t\t\t\t<CartItem\n\t\t\t\t\t\t\t\t\tkey={ item.productId }\n\t\t\t\t\t\t\t\t\titem={ item }\n                                    handleRemoveProductClick={handleRemoveProductClick}\n                                    setCart = {setCart}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t) }\n                        </tbody>\n\n                    </table>\n                </div>\n            ) : ''}\n        </div>\n    )\n};\n\nexport default CartItemsContainer;"]},"metadata":{},"sourceType":"module"}