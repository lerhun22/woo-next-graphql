{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { stripIgnoredCharacters } from 'graphql';\nimport { useState } from 'react';\nimport { addFirstProduct, updateCart, removeItemFromCart } from \"../../../functions\";\n\nvar CartItem = function CartItem(_ref) {\n  var item = _ref.item,\n      setCart = _ref.setCart,\n      handleRemoveProductClick = _ref.handleRemoveProductClick;\n\n  var _useState = useState(item.qty),\n      productCount = _useState[0],\n      setProductCount = _useState[1];\n  /*\n   * When user changes the qty from product input update the cart in localStorage\n   * Also update the cart in global context\n   *\n   * @param {Object} event event\n   *\n   * @return {void}\n   */\n\n\n  var handleQtyChange = function handleQtyChange(event) {\n    if (true) {\n      var newQty = event.target.value;\n      setProductCount(newQty);\n      console.warn('newQty:', newQty);\n      var existingCart = localStorage.getItem('woo-next-cart');\n      existingCart = JSON.parse(existingCart);\n      var updatedCart = updateCart(existingCart, item, false, newQty);\n      setCart(updatedCart);\n    }\n  };\n\n  return __jsx(\"tr\", {\n    className: \"woo-next-cart-item\",\n    key: item.productId\n  }, __jsx(\"th\", {\n    className: \"woo-next-cart-element woo-next-cart-el-close\"\n  }, __jsx(\"span\", {\n    className: \"woo-next-cart-close-icon\",\n    onClick: function onClick(event) {\n      return handleRemoveProductClick(event, item.productID);\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-times-circle\"\n  }))), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, __jsx(\"img\", {\n    width: \"64\",\n    src: item.image.sourceUrl,\n    srcSet: item.image.srcSet,\n    alt: item.image.title\n  })), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, item.name), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, 'string' !== typeof item.price ? item.price : item.price), __jsx(\"td\", {\n    className: \"woo-next-cart-element woo-next-cart-qty\"\n  }, __jsx(\"input\", {\n    type: \"number\",\n    min: \"1\",\n    className: \"woo-next-cart-qty-input\",\n    value: productCount,\n    onChange: function onChange(event) {\n      return handleQtyChange(event);\n    }\n  })), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, item.totalPrice));\n};\n\nexport default CartItem;","map":null,"metadata":{},"sourceType":"module"}