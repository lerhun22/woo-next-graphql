{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useContext } from 'react';\nimport { AppContext } from \"../../context/AppContext\";\nimport { removeItemFromCart } from '../../../functions';\nimport CartItem from \"./CartItem\";\n\nvar CartItemsContainer = function CartItemsContainer() {\n  _s();\n\n  // @TODO wil use it in future variations of the project.\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  var handleRemoveProductClick = function handleRemoveProductClick(event, productId) {\n    var updatedCart = removeItemFromCart(productId);\n    setCart(updatedCart);\n  };\n\n  var handleClearCartClick = function handleClearCartClick(event) {\n    console.warn(\"Panier\", cart);\n    var test1 = localStorage.getItem(\"woo-next-cart\");\n    var test2 = JSON.parse(test1);\n    console.warn(\"Test\", test2);\n    var test3 = test2.products; //console.warn(\"Produits dans le panier : \", test3);\n\n    var test4 = test2.products.length; //console.warn(\"Nombre éléments : \", test4);\n    //const test5 = test2.products[0].productId;\n    //console.warn(\"ID 1er élément : \", test5);\n    //const test6 = test2.products[1].productId;\n    //console.warn(\"ID 2ième élément : \", test6);\n\n    if (-1 < test4) {\n      for (var i = 0; i < test4; i++) {\n        var test7 = test2.products[i].productId;\n        console.warn(\"ID \", i, \"ième élément : \", test7);\n      }\n    }\n\n    test3.map(function (item) {\n      console.warn(\"Nom \", item.name);\n      removeItemFromCart(item.productId);\n      localStorage.removeItem(\"woo-next-cart\");\n    }); //setCart(updatedCart);\n  };\n\n  return __jsx(\"div\", {\n    className: \"content-wrap-cart\"\n  }, cart ? __jsx(\"div\", {\n    className: \"woo-next-cart-wrapper container\"\n  }, __jsx(\"h1\", {\n    className: \"woo-next-cart-heading mt-5\"\n  }, \"Panier\"), __jsx(\"table\", {\n    className: \"table table-hover\"\n  }, __jsx(\"thead\", null, __jsx(\"tr\", {\n    className: \"woo-next-cart-head-container\"\n  }, __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }), __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }), __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }, \"Produit\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }, \"Prix Unitaire\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }, \"Quant\\xE9\"), __jsx(\"th\", {\n    className: \"woo-next-cart-heading-el\",\n    scope: \"col\"\n  }, \"Total\"))), __jsx(\"tbody\", null, cart.products.length && cart.products.map(function (item) {\n    return __jsx(CartItem, {\n      key: item.productId,\n      item: item,\n      handleRemoveProductClick: handleRemoveProductClick,\n      setCart: setCart\n    });\n  }))), __jsx(\"div\", {\n    className: \"clear-cart\"\n  }, __jsx(\"button\", {\n    className: \"btn btn-secondary \"\n  }, __jsx(\"span\", {\n    className: \"woo-next-cart\",\n    onClick: handleClearCartClick\n  }, \"Vider le panier\"), __jsx(\"i\", {\n    className: \"fa fa-arrow-alt-right\"\n  }))), __jsx(\"div\", {\n    className: \"row woo-next-cart-total-container mt-5\"\n  }, __jsx(\"div\", {\n    className: \"col-6\"\n  }, __jsx(\"h2\", null, \"Total\"), __jsx(\"table\", {\n    className: \"table table-hover\"\n  }, __jsx(\"tbody\", null, __jsx(\"tr\", {\n    className: \"table-light\"\n  }, __jsx(\"td\", {\n    className: \"woo-next-cart-element-total\"\n  }, \"A payer\"), __jsx(\"td\", {\n    className: \"woo-next-cart-element-amt\"\n  }, 'string' !== typeof cart.totalProductsPrice ? cart.totalProductsPrice : cart.totalProductsPrice)))), __jsx(Link, {\n    href: \"/checkout\"\n  }, __jsx(\"button\", {\n    className: \"btn btn-secondary woo-next-large-black-btn\"\n  }, __jsx(\"span\", {\n    className: \"woo-next-cart-checkout-txt\"\n  }, \"Paiement\"), __jsx(\"i\", {\n    className: \"fas fa-long-arrow-alt-right\"\n  })))))) : __jsx(\"div\", {\n    className: \"container mt-5\"\n  }, __jsx(\"h2\", null, \"Pas d'article dans le panier\"), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"button\", {\n    className: \"btn btn-secondary woo-next-large-black-btn\"\n  }, __jsx(\"span\", {\n    className: \"woo-next-cart-checkout-txt\"\n  }, \"Ajouter un article\"), __jsx(\"i\", {\n    className: \"fas fa-long-arrow-alt-right\"\n  })))));\n};\n\n_s(CartItemsContainer, \"yW3F9rTSSpXoz1qpM/EYKrSPIEE=\");\n\n_c = CartItemsContainer;\nexport default CartItemsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItemsContainer\");","map":{"version":3,"sources":["/Users/didierflury/Documents/Realiser/pweb/woo-next/components/cart/cart-page/CartItemsContainer.js"],"names":["Link","useContext","AppContext","removeItemFromCart","CartItem","CartItemsContainer","cart","setCart","handleRemoveProductClick","event","productId","updatedCart","handleClearCartClick","console","warn","test1","localStorage","getItem","test2","JSON","parse","test3","products","test4","length","i","test7","map","item","name","removeItem","totalProductsPrice"],"mappings":"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","sourcesContent":["import Link from 'next/link';\nimport { useContext } from 'react';\nimport { AppContext } from \"../../context/AppContext\";\nimport { removeItemFromCart } from '../../../functions';\nimport CartItem from \"./CartItem\";\n\nconst CartItemsContainer = () => {\n\n\t// @TODO wil use it in future variations of the project.\n\tconst [cart, setCart] = useContext(AppContext);\n\n\tconst handleRemoveProductClick = (event, productId) => {\t\n\t\tconst updatedCart = removeItemFromCart(productId)\n\t\tsetCart(updatedCart);\n\t};\n\n\tconst handleClearCartClick = (event) => {\n\t\tconsole.warn(\"Panier\", cart);\n\t\tconst test1 = localStorage.getItem(\"woo-next-cart\");\n\t\tconst test2 = JSON.parse(test1);\n\t\tconsole.warn(\"Test\", test2);\n\t\tconst test3 = test2.products;\n\t\t//console.warn(\"Produits dans le panier : \", test3);\n\t\tconst test4 = test2.products.length;\n\t\t//console.warn(\"Nombre éléments : \", test4);\n\t\t//const test5 = test2.products[0].productId;\n\t\t//console.warn(\"ID 1er élément : \", test5);\n\t\t//const test6 = test2.products[1].productId;\n\t\t//console.warn(\"ID 2ième élément : \", test6);\n\n\t\tif (-1 < test4) {\n\t\t\tfor (let i = 0; i < test4; i++) {\n\t\t\t\tconst test7 = test2.products[i].productId;\n\t\t\t\tconsole.warn(\"ID \",i, \"ième élément : \", test7);\n\t\t\t}\n\t\t}\n\t\t\n\t\ttest3.map((item) => {\n\t\t\tconsole.warn(\"Nom \", item.name);\n\t\t\tremoveItemFromCart(item.productId);\n\t\t\tlocalStorage.removeItem(\"woo-next-cart\");\n\t\t});\n\n\t\t\n\t\t\n\n\t\t//setCart(updatedCart);\n\t}\n\n\treturn (\n\t\t<div className=\"content-wrap-cart\">\n\t\t\t{ cart ? (\n\t\t\t\t<div className=\"woo-next-cart-wrapper container\">\n\t\t\t\t\t<h1 className=\"woo-next-cart-heading mt-5\">Panier</h1>\n\t\t\t\t\t<table className=\"table table-hover\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className=\"woo-next-cart-head-container\">\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\"/>\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\"/>\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\">Produit</th>\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\">Prix Unitaire</th>\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\">Quanté</th>\n\t\t\t\t\t\t\t<th className=\"woo-next-cart-heading-el\" scope=\"col\">Total</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{ cart.products.length && (\n\t\t\t\t\t\t\tcart.products.map( item => (\n\t\t\t\t\t\t\t\t<CartItem\n\t\t\t\t\t\t\t\t\tkey = { item.productId }\n\t\t\t\t\t\t\t\t\titem = {item}\n\t\t\t\t\t\t\t\t\thandleRemoveProductClick = {handleRemoveProductClick}\n\t\t\t\t\t\t\t\t\tsetCart = {setCart}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t{/*Clear entire cart*/}\n\t\t\t\t\t<div className=\"clear-cart\">\n\t\t\t\t\t\t<button className=\"btn btn-secondary \" >\n\t\t\t\t\t\t\t<span className=\"woo-next-cart\" onClick={handleClearCartClick}>Vider le panier</span>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-alt-right\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Display Errors if any */}\n\t\t\t\t\t\n\t\t\t\t\t{/*Cart Total*/ }\n\t\t\t\t\t<div className=\"row woo-next-cart-total-container mt-5\">\n\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t<h2>Total</h2>\n\t\t\t\t\t\t\t<table className=\"table table-hover\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr className=\"table-light\">\n\t\t\t\t\t\t\t\t\t<td className=\"woo-next-cart-element-total\">A payer</td>\n\t\t\t\t\t\t\t\t\t<td className=\"woo-next-cart-element-amt\">{ ( 'string' !== typeof cart.totalProductsPrice ) ? cart.totalProductsPrice : cart.totalProductsPrice }</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t<Link href=\"/checkout\">\n\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary woo-next-large-black-btn\">\n\t\t\t\t\t\t\t\t\t<span className=\"woo-next-cart-checkout-txt\">Paiement</span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-long-arrow-alt-right\"/>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"container mt-5\">\n\t\t\t\t\t<h2>Pas d'article dans le panier</h2>\n\t\t\t\t\t<Link href=\"/\">\n\t\t\t\t\t\t<button className=\"btn btn-secondary woo-next-large-black-btn\">\n\t\t\t\t\t\t\t<span className=\"woo-next-cart-checkout-txt\">Ajouter un article</span>\n\t\t\t\t\t\t\t<i className=\"fas fa-long-arrow-alt-right\"/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\n\t);\n};\n\nexport default CartItemsContainer;\n"]},"metadata":{},"sourceType":"module"}