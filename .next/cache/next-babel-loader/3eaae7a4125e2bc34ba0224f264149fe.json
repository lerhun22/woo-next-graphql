{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { stripIgnoredCharacters } from 'graphql';\nimport { useState } from 'react';\nimport { addFirstProduct, updateCart, removeItemFromCart } from \"../../../functions\";\n\nconst CartItem = ({\n  item,\n  setCart\n}) => {\n  const {\n    0: productCount,\n    1: setProductCount\n  } = useState(item.qty);\n  /*\n   * When user changes the qty from product input update the cart in localStorage\n   * Also update the cart in global context\n   *\n   * @param {Object} event event\n   *\n   * @return {void}\n   */\n\n  const handleQtyChange = event => {\n    if (false) {\n      const newQty = event.target.value;\n      setProductCount(newQty);\n      console.warn('newQty:', newQty);\n      let existingCart = localStorage.getItem('woo-next-cart');\n      existingCart = JSON.parse(existingCart);\n      const updatedCart = updateCart(existingCart, item, false, newQty);\n      setCart(updatedCart);\n    }\n  };\n\n  return __jsx(\"tr\", {\n    className: \"woo-next-cart-item\",\n    key: item.productId\n  }, __jsx(\"th\", {\n    className: \"woo-next-cart-element woo-next-cart-el-close\"\n  }, __jsx(\"span\", {\n    className: \"woo-next-cart-close-icon\",\n    onClick: event => handleRemoveProductClick(event, item.productID)\n  }, __jsx(\"i\", {\n    className: \"fa fa-times-circle\"\n  }))), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, __jsx(\"img\", {\n    width: \"64\",\n    src: item.image.sourceUrl,\n    srcSet: item.image.srcSet,\n    alt: item.image.title\n  })), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, item.name), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, 'string' !== typeof item.price ? item.price : item.price), __jsx(\"td\", {\n    className: \"woo-next-cart-element woo-next-cart-qty\"\n  }, __jsx(\"input\", {\n    type: \"number\",\n    min: \"1\",\n    className: \"woo-next-cart-qty-input\",\n    value: productCount,\n    onChange: event => handleQtyChange(event)\n  })), __jsx(\"td\", {\n    className: \"woo-next-cart-element\"\n  }, item.totalPrice));\n};\n\nexport default CartItem;","map":{"version":3,"sources":["/Users/didierflury/Documents/Realiser/pweb/woo-next/components/cart/cart-page/CartItem.js"],"names":["stripIgnoredCharacters","useState","addFirstProduct","updateCart","removeItemFromCart","CartItem","item","setCart","productCount","setProductCount","qty","handleQtyChange","event","newQty","target","value","console","warn","existingCart","localStorage","getItem","JSON","parse","updatedCart","productId","handleRemoveProductClick","productID","image","sourceUrl","srcSet","title","name","price","totalPrice"],"mappings":";;AAAA,SAASA,sBAAT,QAAuC,SAAvC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,eAAT,EAA0BC,UAA1B,EAAsCC,kBAAtC,QAAgE,oBAAhE;;AAEA,MAAMC,QAAQ,GAAG,CAAE;AAClBC,EAAAA,IADkB;AAElBC,EAAAA;AAFkB,CAAF,KAGX;AAEL,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkCR,QAAQ,CAAEK,IAAI,CAACI,GAAP,CAAhD;AAEA;;;;;;;;;AAQA,QAAMC,eAAe,GAAIC,KAAD,IAAW;AAElC,eAAuB;AACtB,YAAMC,MAAM,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA5B;AACAN,MAAAA,eAAe,CAACI,MAAD,CAAf;AACAG,MAAAA,OAAO,CAACC,IAAR,CAAa,SAAb,EAAwBJ,MAAxB;AACA,UAAIK,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AACAF,MAAAA,YAAY,GAAGG,IAAI,CAACC,KAAL,CAAWJ,YAAX,CAAf;AACA,YAAMK,WAAW,GAAGpB,UAAU,CAACe,YAAD,EAAeZ,IAAf,EAAqB,KAArB,EAA4BO,MAA5B,CAA9B;AACAN,MAAAA,OAAO,CAACgB,WAAD,CAAP;AACA;AACD,GAXD;;AAcA,SACC;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAmC,IAAA,GAAG,EAAEjB,IAAI,CAACkB;AAA7C,KAEC;AAAI,IAAA,SAAS,EAAC;AAAd,KAEC;AAAM,IAAA,SAAS,EAAC,0BAAhB;AACC,IAAA,OAAO,EAAIZ,KAAD,IAAWa,wBAAwB,CAACb,KAAD,EAAQN,IAAI,CAACoB,SAAb;AAD9C,KAEC;AAAG,IAAA,SAAS,EAAC;AAAb,IAFD,CAFD,CAFD,EAUC;AAAI,IAAA,SAAS,EAAC;AAAd,KACC;AAAK,IAAA,KAAK,EAAC,IAAX;AAAgB,IAAA,GAAG,EAAGpB,IAAI,CAACqB,KAAL,CAAWC,SAAjC;AAA6C,IAAA,MAAM,EAAGtB,IAAI,CAACqB,KAAL,CAAWE,MAAjE;AAA0E,IAAA,GAAG,EAAGvB,IAAI,CAACqB,KAAL,CAAWG;AAA3F,IADD,CAVD,EAaC;AAAI,IAAA,SAAS,EAAC;AAAd,KAAwCxB,IAAI,CAACyB,IAA7C,CAbD,EAcC;AAAI,IAAA,SAAS,EAAC;AAAd,KAA0C,aAAa,OAAOzB,IAAI,CAAC0B,KAA3B,GAAqC1B,IAAI,CAAC0B,KAA1C,GAAkD1B,IAAI,CAAC0B,KAA/F,CAdD,EAiBC;AAAI,IAAA,SAAS,EAAC;AAAd,KAEC;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,GAAG,EAAC,GAFL;AAGC,IAAA,SAAS,EAAC,yBAHX;AAIC,IAAA,KAAK,EAAGxB,YAJT;AAKC,IAAA,QAAQ,EAAKI,KAAF,IAAaD,eAAe,CAAEC,KAAF;AALxC,IAFD,CAjBD,EA2BC;AAAI,IAAA,SAAS,EAAC;AAAd,KAAwCN,IAAI,CAAC2B,UAA7C,CA3BD,CADD;AA+BA,CA5DD;;AA8DA,eAAe5B,QAAf","sourcesContent":["import { stripIgnoredCharacters } from 'graphql';\nimport { useState } from 'react';\nimport { addFirstProduct, updateCart, removeItemFromCart } from \"../../../functions\";\n\nconst CartItem = ( {\n\titem,\n\tsetCart,\n}) => {\n\t\n\tconst [productCount, setProductCount] = useState( item.qty );\n\n\t/*\n\t * When user changes the qty from product input update the cart in localStorage\n\t * Also update the cart in global context\n\t *\n\t * @param {Object} event event\n\t *\n\t * @return {void}\n\t */\n\tconst handleQtyChange = (event) => {\n\n\t\tif ( process.browser ) {\n\t\t\tconst newQty = event.target.value;\t\t\t\n\t\t\tsetProductCount(newQty);\n\t\t\tconsole.warn('newQty:', newQty);\t\t\t\n\t\t\tlet existingCart = localStorage.getItem('woo-next-cart');\n\t\t\texistingCart = JSON.parse(existingCart);\n\t\t\tconst updatedCart = updateCart(existingCart, item, false, newQty);\n\t\t\tsetCart(updatedCart);\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<tr className=\"woo-next-cart-item\" key={item.productId}>\n\t\t\t\n\t\t\t<th className=\"woo-next-cart-element woo-next-cart-el-close\">\n\t\t\t\t{/* Remove item */}\n\t\t\t\t<span className=\"woo-next-cart-close-icon\"\n\t\t\t\t\tonClick={ (event) => handleRemoveProductClick(event, item.productID)}>\n\t\t\t\t\t<i className=\"fa fa-times-circle\"/>\n\t\t\t\t</span>\n\t\t\t</th>\n\t\t\t\n\t\t\t<td className=\"woo-next-cart-element\">\n\t\t\t\t<img width=\"64\" src={ item.image.sourceUrl } srcSet={ item.image.srcSet } alt={ item.image.title }/>\n\t\t\t</td>\n\t\t\t<td className=\"woo-next-cart-element\">{ item.name }</td>\n\t\t\t<td className=\"woo-next-cart-element\">{ ( 'string' !== typeof item.price ) ? item.price : item.price }</td>\n\n\t\t\t{/* Qty Input */ }\n\t\t\t<td className=\"woo-next-cart-element woo-next-cart-qty\">\n\t\t\t\t{/* @TODO Need to update this with graphQL query */ }\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"1\"\n\t\t\t\t\tclassName=\"woo-next-cart-qty-input\"\n\t\t\t\t\tvalue={ productCount }\n\t\t\t\t\tonChange={ ( event ) => handleQtyChange( event ) }\n\t\t\t\t/>\n\t\t\t</td>\n\t\t\t<td className=\"woo-next-cart-element\">{ item.totalPrice  }</td>\n\t\t</tr>\n\t)\n};\n\nexport default CartItem;\n"]},"metadata":{},"sourceType":"module"}