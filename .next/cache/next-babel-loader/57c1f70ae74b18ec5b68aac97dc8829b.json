{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @format */\nimport Link from \"next/link\";\nimport { useState, useContext } from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport { addFirstProduct, updateCart } from \"../../functions\";\n\nvar AddToCartButton = function AddToCartButton(props) {\n  _s();\n\n  var product = props.product;\n\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  var _useState = useState(false),\n      showViewCart = _useState[0],\n      setShowViewCart = _useState[1];\n\n  var handledAddToCartClick = function handledAddToCartClick() {\n    if (true) {\n      var existingCart = localStorage.getItem(\"woo-next-cart\"); //\n\n      if (existingCart) {\n        existingCart = JSON.parse(existingCart);\n        var qtyToBeAdded = 1;\n        var updatedCart = updateCart(existingCart, product, qtyToBeAdded);\n        setCart(updatedCart);\n      } else {\n        //if no item in the cart create an empty array and push the items\n        //addfirstcart\n        var newCart = addFirstProduct(product);\n        setCart(newCart);\n      }\n\n      setShowViewCart(true);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    onClick: handledAddToCartClick,\n    className: \"btn btn-secondary\"\n  }, \"Ajouter au Panier\"), showViewCart ? __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"button\", {\n    className: \"woo-next-view-cart-btn btn btn-secondary\"\n  }, \"Voir Panier\")) : '');\n};\n\n_s(AddToCartButton, \"vFZoBYP4Xjv4g6CLbaFMDkrc+Lo=\");\n\n_c = AddToCartButton;\nexport default AddToCartButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToCartButton\");","map":{"version":3,"sources":["/Users/didierflury/Documents/Realiser/pweb/woo-next/components/cart/AddToCartButton.js"],"names":["Link","useState","useContext","AppContext","addFirstProduct","updateCart","AddToCartButton","props","product","cart","setCart","showViewCart","setShowViewCart","handledAddToCartClick","existingCart","localStorage","getItem","JSON","parse","qtyToBeAdded","updatedCart","newCart"],"mappings":";;;;;AAAA;AAEA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,eAAT,EAA0BC,UAA1B,QAA4C,iBAA5C;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA;;AAAA,MAC1BC,OAD0B,GACdD,KADc,CAC1BC,OAD0B;;AAAA,oBAGVN,UAAU,CAACC,UAAD,CAHA;AAAA,MAG3BM,IAH2B;AAAA,MAGrBC,OAHqB;;AAAA,kBAKMT,QAAQ,CAAC,KAAD,CALd;AAAA,MAK3BU,YAL2B;AAAA,MAKbC,eALa;;AAQlC,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AACnC,cAAqB;AAEpB,UAAIC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB,CAFoB,CAIpB;;AACA,UAAIF,YAAJ,EAAkB;AACjBA,QAAAA,YAAY,GAAGG,IAAI,CAACC,KAAL,CAAWJ,YAAX,CAAf;AAEA,YAAMK,YAAY,GAAG,CAArB;AAEA,YAAMC,WAAW,GAAGf,UAAU,CAACS,YAAD,EAAeN,OAAf,EAAwBW,YAAxB,CAA9B;AAEAT,QAAAA,OAAO,CAACU,WAAD,CAAP;AACA,OARD,MAQO;AACN;AACA;AAEA,YAAMC,OAAO,GAAGjB,eAAe,CAACI,OAAD,CAA/B;AAEAE,QAAAA,OAAO,CAACW,OAAD,CAAP;AACA;;AAEDT,MAAAA,eAAe,CAAC,IAAD,CAAf;AACA;AACD,GAzBD;;AA2BA,SACC,MAAC,KAAD,CAAO,QAAP,QACC;AAAQ,IAAA,OAAO,EAAEC,qBAAjB;AAAwC,IAAA,SAAS,EAAC;AAAlD,yBADD,EAIGF,YAAY,GACb,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACC;AAAQ,IAAA,SAAS,EAAC;AAAlB,mBADD,CADa,GAIV,EARL,CADD;AAYA,CA/CD;;GAAML,e;;KAAAA,e;AAiDN,eAAeA,eAAf","sourcesContent":["/** @format */\n\nimport Link from \"next/link\";\nimport { useState, useContext } from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport { addFirstProduct, updateCart } from \"../../functions\";\n\nconst AddToCartButton = (props) => {\n\tconst { product } = props;\n\n\tconst [cart, setCart] = useContext(AppContext);\n\n\tconst [showViewCart, setShowViewCart] = useState(false);\n\n\n\tconst handledAddToCartClick = () => {\n\t\tif (process.browser) {\n\n\t\t\tlet existingCart = localStorage.getItem(\"woo-next-cart\");\n\n\t\t\t//\n\t\t\tif (existingCart) {\n\t\t\t\texistingCart = JSON.parse(existingCart);\n\n\t\t\t\tconst qtyToBeAdded = 1;\n\n\t\t\t\tconst updatedCart = updateCart(existingCart, product, qtyToBeAdded);\n\n\t\t\t\tsetCart(updatedCart);\n\t\t\t} else {\n\t\t\t\t//if no item in the cart create an empty array and push the items\n\t\t\t\t//addfirstcart\n\n\t\t\t\tconst newCart = addFirstProduct(product);\n\t\t\t\t\n\t\t\t\tsetCart(newCart);\n\t\t\t}\n\n\t\t\tsetShowViewCart(true);\n\t\t}\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<button onClick={handledAddToCartClick} className='btn btn-secondary'>\n\t\t\t\tAjouter au Panier\n\t\t\t</button>\n\t\t\t{ showViewCart ? (\n\t\t\t\t<Link href=\"/cart\">\n\t\t\t\t\t<button className=\"woo-next-view-cart-btn btn btn-secondary\">Voir Panier</button>\n\t\t\t\t</Link>\n\t\t\t) : ''}\n\t\t</React.Fragment>\n\t);\n};\n\nexport default AddToCartButton;\n"]},"metadata":{},"sourceType":"module"}